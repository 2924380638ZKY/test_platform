{"uid":"2d7c2920e5dde8ab","name":"test_task[case0]","fullName":"application.task_interface.test_interface_task.TestTask#test_task","historyId":"6f3ddf93e2b4d288eaf557d627fa776a","time":{"start":1687773031785,"stop":1687773031786,"duration":1},"status":"broken","statusMessage":"KeyError: '3a036f03-4c1f-4bf4-9755-e5661f623990'","statusTrace":"self = <application.task_interface.test_interface_task.TestTask object at 0x0000020420A0BB20>\ncase = {'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'expectResult': {'code': 0}, 'extractFields': '', ...}\nnode_url = 'http://10.1.40.220'\n\n    def test_task(self, case, node_url):\n        if case[\"useToken\"]:\n            if node.login_token is None:\n                raise Exception(\"该用例没有token，请先登录\")\n            else:\n                x = WithToken(node.login_token)\n                x.withtoken(case, node_url)\n    \n        else:\n>           x = WithoutToken()\n\napplication\\task_interface\\test_interface_task.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nvenv\\lib\\site-packages\\allure_commons\\_allure.py:182: in __exit__\n    plugin_manager.hook.stop_step(uuid=self.uuid, title=self.title, exc_type=exc_type, exc_val=exc_val,\nvenv\\lib\\site-packages\\pluggy\\_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\nvenv\\lib\\site-packages\\pluggy\\_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\nvenv\\lib\\site-packages\\allure_pytest\\listener.py:52: in stop_step\n    self.allure_logger.stop_step(uuid,\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:139: in stop_step\n    self._update_item(uuid, **kwargs)\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:62: in _update_item\n    item = self._items[uuid] if uuid else self._items[next(reversed(self._items))]\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <allure_commons.reporter.ThreadContextItems object at 0x000002042097F910>\nitem = '3a036f03-4c1f-4bf4-9755-e5661f623990'\n\n    def __getitem__(self, item):\n>       return self.thread_context.__getitem__(item)\nE       KeyError: '3a036f03-4c1f-4bf4-9755-e5661f623990'\n\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:33: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"drivers","time":{"start":1687773030151,"stop":1687773031785,"duration":1634},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false},{"name":"node_url","time":{"start":1687773031785,"stop":1687773031785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"KeyError: '3a036f03-4c1f-4bf4-9755-e5661f623990'","statusTrace":"self = <application.task_interface.test_interface_task.TestTask object at 0x0000020420A0BB20>\ncase = {'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'expectResult': {'code': 0}, 'extractFields': '', ...}\nnode_url = 'http://10.1.40.220'\n\n    def test_task(self, case, node_url):\n        if case[\"useToken\"]:\n            if node.login_token is None:\n                raise Exception(\"该用例没有token，请先登录\")\n            else:\n                x = WithToken(node.login_token)\n                x.withtoken(case, node_url)\n    \n        else:\n>           x = WithoutToken()\n\napplication\\task_interface\\test_interface_task.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nvenv\\lib\\site-packages\\allure_commons\\_allure.py:182: in __exit__\n    plugin_manager.hook.stop_step(uuid=self.uuid, title=self.title, exc_type=exc_type, exc_val=exc_val,\nvenv\\lib\\site-packages\\pluggy\\_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\nvenv\\lib\\site-packages\\pluggy\\_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\nvenv\\lib\\site-packages\\allure_pytest\\listener.py:52: in stop_step\n    self.allure_logger.stop_step(uuid,\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:139: in stop_step\n    self._update_item(uuid, **kwargs)\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:62: in _update_item\n    item = self._items[uuid] if uuid else self._items[next(reversed(self._items))]\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <allure_commons.reporter.ThreadContextItems object at 0x000002042097F910>\nitem = '3a036f03-4c1f-4bf4-9755-e5661f623990'\n\n    def __getitem__(self, item):\n>       return self.thread_context.__getitem__(item)\nE       KeyError: '3a036f03-4c1f-4bf4-9755-e5661f623990'\n\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:33: KeyError","steps":[{"name":"无需token的用例","time":{"start":1687773031786},"status":"unknown","steps":[{"name":"无需token的用例","time":{"start":1687773031786,"stop":1687773031786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":1,"hasContent":true}],"attachments":[{"uid":"3f404c279b0180c9","name":"失败截图test_task","source":"3f404c279b0180c9.png","type":"image/png","size":3249}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"stepsCount":2,"hasContent":true},"afterStages":[{"name":"drivers::fn","time":{"start":1687773046308,"stop":1687773048356,"duration":2048},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"application.task_interface"},{"name":"suite","value":"test_interface_task"},{"name":"subSuite","value":"TestTask"},{"name":"host","value":"DESKTOP-2HK8HF2"},{"name":"thread","value":"20852-Thread-364"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"application.task_interface.test_interface_task"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'id': '6459af8340e282bc8c2d51f7', 'useToken': False, 'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'interfaceId': '6459af1d40e282bc8c2d51f3', 'interfaceName': '登录', 'priority': 1, 'expectResult': {'code': 0}, 'testDataType': 2, 'json': {'account': 'admin', 'password': '21232f297a57a5a743894a0e4a801fc3', 'platform': 'PC', 'remember': False, 'autoLogin': False, 'language': ''}, 'extractFields': ''}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"2d7c2920e5dde8ab.json","parameterValues":["{'id': '6459af8340e282bc8c2d51f7', 'useToken': False, 'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'interfaceId': '6459af1d40e282bc8c2d51f3', 'interfaceName': '登录', 'priority': 1, 'expectResult': {'code': 0}, 'testDataType': 2, 'json': {'account': 'admin', 'password': '21232f297a57a5a743894a0e4a801fc3', 'platform': 'PC', 'remember': False, 'autoLogin': False, 'language': ''}, 'extractFields': ''}"]}