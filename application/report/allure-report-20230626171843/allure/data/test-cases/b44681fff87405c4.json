{"uid":"b44681fff87405c4","name":"test_task[case0]","fullName":"application.task_interface.test_interface_task.TestTask#test_task","historyId":"6f3ddf93e2b4d288eaf557d627fa776a","time":{"start":1687771125265,"stop":1687771125268,"duration":3},"status":"broken","statusMessage":"KeyError: '35a601ee-125c-48b8-ace9-9f85eb25b913'","statusTrace":"self = <application.task_interface.test_interface_task.TestTask object at 0x00000204205CF220>\ncase = {'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'expectResult': {'code': 0}, 'extractFields': '', ...}\nnode_url = 'http://10.1.40.228'\n\n    def test_task(self, case, node_url):\n        if case[\"useToken\"]:\n            if node.login_token is None:\n                raise Exception(\"该用例没有token，请先登录\")\n            else:\n                x = WithToken(node.login_token)\n                x.withtoken(case, node_url)\n    \n        else:\n>           x = WithoutToken()\n\napplication\\task_interface\\test_interface_task.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nvenv\\lib\\site-packages\\allure_commons\\_allure.py:182: in __exit__\n    plugin_manager.hook.stop_step(uuid=self.uuid, title=self.title, exc_type=exc_type, exc_val=exc_val,\nvenv\\lib\\site-packages\\pluggy\\_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\nvenv\\lib\\site-packages\\pluggy\\_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\nvenv\\lib\\site-packages\\allure_pytest\\listener.py:52: in stop_step\n    self.allure_logger.stop_step(uuid,\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:139: in stop_step\n    self._update_item(uuid, **kwargs)\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:62: in _update_item\n    item = self._items[uuid] if uuid else self._items[next(reversed(self._items))]\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <allure_commons.reporter.ThreadContextItems object at 0x000002042059EA00>\nitem = '35a601ee-125c-48b8-ace9-9f85eb25b913'\n\n    def __getitem__(self, item):\n>       return self.thread_context.__getitem__(item)\nE       KeyError: '35a601ee-125c-48b8-ace9-9f85eb25b913'\n\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:33: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"drivers","time":{"start":1687771121863,"stop":1687771125264,"duration":3401},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"node_url","time":{"start":1687771125264,"stop":1687771125264,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"KeyError: '35a601ee-125c-48b8-ace9-9f85eb25b913'","statusTrace":"self = <application.task_interface.test_interface_task.TestTask object at 0x00000204205CF220>\ncase = {'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'expectResult': {'code': 0}, 'extractFields': '', ...}\nnode_url = 'http://10.1.40.228'\n\n    def test_task(self, case, node_url):\n        if case[\"useToken\"]:\n            if node.login_token is None:\n                raise Exception(\"该用例没有token，请先登录\")\n            else:\n                x = WithToken(node.login_token)\n                x.withtoken(case, node_url)\n    \n        else:\n>           x = WithoutToken()\n\napplication\\task_interface\\test_interface_task.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nvenv\\lib\\site-packages\\allure_commons\\_allure.py:182: in __exit__\n    plugin_manager.hook.stop_step(uuid=self.uuid, title=self.title, exc_type=exc_type, exc_val=exc_val,\nvenv\\lib\\site-packages\\pluggy\\_hooks.py:265: in __call__\n    return self._hookexec(self.name, self.get_hookimpls(), kwargs, firstresult)\nvenv\\lib\\site-packages\\pluggy\\_manager.py:80: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\nvenv\\lib\\site-packages\\allure_pytest\\listener.py:52: in stop_step\n    self.allure_logger.stop_step(uuid,\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:139: in stop_step\n    self._update_item(uuid, **kwargs)\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:62: in _update_item\n    item = self._items[uuid] if uuid else self._items[next(reversed(self._items))]\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <allure_commons.reporter.ThreadContextItems object at 0x000002042059EA00>\nitem = '35a601ee-125c-48b8-ace9-9f85eb25b913'\n\n    def __getitem__(self, item):\n>       return self.thread_context.__getitem__(item)\nE       KeyError: '35a601ee-125c-48b8-ace9-9f85eb25b913'\n\nvenv\\lib\\site-packages\\allure_commons\\reporter.py:33: KeyError","steps":[{"name":"无需token的用例","time":{"start":1687771125268},"status":"unknown","steps":[{"name":"无需token的用例","time":{"start":1687771125268,"stop":1687771125268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":1,"hasContent":true}],"attachments":[{"uid":"ee94301749dce947","name":"失败截图test_task","source":"ee94301749dce947.png","type":"image/png","size":3249},{"uid":"4d23b93dee915c97","name":"失败截图test_task","source":"4d23b93dee915c97.png","type":"image/png","size":3249}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"stepsCount":2,"hasContent":true},"afterStages":[{"name":"drivers::fn","time":{"start":1687771127324},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false},{"name":"drivers::fn","time":{"start":1687771127324,"stop":1687771129640,"duration":2316},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"parentSuite","value":"application.task_interface"},{"name":"suite","value":"test_interface_task"},{"name":"subSuite","value":"TestTask"},{"name":"host","value":"DESKTOP-2HK8HF2"},{"name":"thread","value":"20852-Thread-124"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"application.task_interface.test_interface_task"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'id': '6459af8340e282bc8c2d51f7', 'useToken': False, 'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'interfaceId': '6459af1d40e282bc8c2d51f3', 'interfaceName': '登录', 'priority': 1, 'expectResult': {'code': 0}, 'testDataType': 2, 'json': {'account': 'admin', 'password': '21232f297a57a5a743894a0e4a801fc3', 'platform': 'PC', 'remember': False, 'autoLogin': False, 'language': ''}, 'extractFields': ''}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"b44681fff87405c4.json","parameterValues":["{'id': '6459af8340e282bc8c2d51f7', 'useToken': False, 'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'caseName': '登录1', 'interfaceId': '6459af1d40e282bc8c2d51f3', 'interfaceName': '登录', 'priority': 1, 'expectResult': {'code': 0}, 'testDataType': 2, 'json': {'account': 'admin', 'password': '21232f297a57a5a743894a0e4a801fc3', 'platform': 'PC', 'remember': False, 'autoLogin': False, 'language': ''}, 'extractFields': ''}"]}