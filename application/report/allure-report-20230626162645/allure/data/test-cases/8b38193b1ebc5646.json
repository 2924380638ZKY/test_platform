{"uid":"8b38193b1ebc5646","name":"112","fullName":"application.task_ui.test_ui_task.TestTask#test_task","historyId":"986879bcf10a9355fc1a0426ed7cebf7","time":{"start":1687768007240,"stop":1687768008944,"duration":1704},"status":"broken","statusMessage":"TypeError: string indices must be integers","statusTrace":"self = <application.task_ui.test_ui_task.TestTask object at 0x000001C40CD1BA30>\ndrivers = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1135687fc0e3b7e6174574dad9c6bd79\")>\ncase = {'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c24...': '645da8a75aebce56a43e4595'}, {'eventId': '645dd7d34bc5083733a72e63'}, {'eventId': '645dd7ff4bc5083733a72e65'}], ...}\nnode_url = 'http://10.1.40.228/#/login'\n\n    def test_task(self, drivers, case, node_url):\n        global account1\n        global password1\n        allure.dynamic.title(case[\"caseName\"])\n        allure.dynamic.severity(case[\"priority\"])\n        drivers.get(node_url)  # case:用例的信息\n        count = 0\n        if case['login']:\n            drivers.implicitly_wait(120)\n            drivers.get(node_url)\n            drivers.find_element(By.XPATH, \"//*[@id='app']/div/div[2]/form/div[2]/div/div/div/input\").send_keys(\n                account1)\n            drivers.find_element(By.XPATH, \"//*[@id='app']/div/div[2]/form/div[3]/div/div[1]/div/input\").send_keys(\n                password1)\n            drivers.find_element(By.XPATH, \"//*[@id='app']/div/div[2]/form/div[5]/div/button\").click()\n        for item in case[\"eventStep\"]:\n            event_data = event.find_one({\"_id\": ObjectId(item[\"eventId\"])})\n            for step_data in event_data[\"step\"]:\n                keyword = step_data['keyword']\n                xpath = step_data['xpath']\n                variable = step_data['variable']\n                xpath = xpath[7:]\n                if keyword == 'click':\n                    element = drivers.find_element(By.XPATH, xpath)\n                    element.click()\n                    sleep(1)\n                    logger.info(\"点击元素：{}\".format(xpath))\n                elif keyword == 'input':\n                    element = drivers.find_element(By.XPATH, xpath)\n                    element.clear()\n>                   if case['testData'][variable]:\nE                   TypeError: string indices must be integers\n\napplication\\task_ui\\test_ui_task.py:53: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"drivers","time":{"start":1687768005169,"stop":1687768007240,"duration":2071},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"node_url","time":{"start":1687768007240,"stop":1687768007240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"TypeError: string indices must be integers","statusTrace":"self = <application.task_ui.test_ui_task.TestTask object at 0x000001C40CD1BA30>\ndrivers = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1135687fc0e3b7e6174574dad9c6bd79\")>\ncase = {'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c24...': '645da8a75aebce56a43e4595'}, {'eventId': '645dd7d34bc5083733a72e63'}, {'eventId': '645dd7ff4bc5083733a72e65'}], ...}\nnode_url = 'http://10.1.40.228/#/login'\n\n    def test_task(self, drivers, case, node_url):\n        global account1\n        global password1\n        allure.dynamic.title(case[\"caseName\"])\n        allure.dynamic.severity(case[\"priority\"])\n        drivers.get(node_url)  # case:用例的信息\n        count = 0\n        if case['login']:\n            drivers.implicitly_wait(120)\n            drivers.get(node_url)\n            drivers.find_element(By.XPATH, \"//*[@id='app']/div/div[2]/form/div[2]/div/div/div/input\").send_keys(\n                account1)\n            drivers.find_element(By.XPATH, \"//*[@id='app']/div/div[2]/form/div[3]/div/div[1]/div/input\").send_keys(\n                password1)\n            drivers.find_element(By.XPATH, \"//*[@id='app']/div/div[2]/form/div[5]/div/button\").click()\n        for item in case[\"eventStep\"]:\n            event_data = event.find_one({\"_id\": ObjectId(item[\"eventId\"])})\n            for step_data in event_data[\"step\"]:\n                keyword = step_data['keyword']\n                xpath = step_data['xpath']\n                variable = step_data['variable']\n                xpath = xpath[7:]\n                if keyword == 'click':\n                    element = drivers.find_element(By.XPATH, xpath)\n                    element.click()\n                    sleep(1)\n                    logger.info(\"点击元素：{}\".format(xpath))\n                elif keyword == 'input':\n                    element = drivers.find_element(By.XPATH, xpath)\n                    element.clear()\n>                   if case['testData'][variable]:\nE                   TypeError: string indices must be integers\n\napplication\\task_ui\\test_ui_task.py:53: TypeError","steps":[],"attachments":[{"uid":"94fd75481921819d","name":"失败截图test_task","source":"94fd75481921819d.png","type":"image/png","size":187324}],"parameters":[],"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1},"afterStages":[{"name":"drivers::fn","time":{"start":1687768009076,"stop":1687768011137,"duration":2061},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"severity"},{"name":"parentSuite","value":"application.task_ui"},{"name":"suite","value":"test_ui_task"},{"name":"subSuite","value":"TestTask"},{"name":"host","value":"DESKTOP-2HK8HF2"},{"name":"thread","value":"16880-Thread-306"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"application.task_ui.test_ui_task"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'id': '64992df6a9fdaf414265754d', 'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'login': True, 'caseName': '112', 'priority': 0, 'eventStep': [{'eventId': '645da8a75aebce56a43e4595'}, {'eventId': '645dd7d34bc5083733a72e63'}, {'eventId': '645dd7ff4bc5083733a72e65'}], 'eventName': ['输入账号密码', '选择IPC模块', '新增IPC'], 'testData': '\"{\\\\\"dfasdf\\\\\":\\\\\"fdsa\\\\\"}\"', 'expectResult': '2'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"8b38193b1ebc5646.json","parameterValues":["{'id': '64992df6a9fdaf414265754d', 'abilityModelId': ['647d3966ce37a7b8553d63c3', '9441c3ed-c12e-4343-95b9-9fb61361db60', 'b465aa28-256b-4659-8bee-87c245d14eea'], 'login': True, 'caseName': '112', 'priority': 0, 'eventStep': [{'eventId': '645da8a75aebce56a43e4595'}, {'eventId': '645dd7d34bc5083733a72e63'}, {'eventId': '645dd7ff4bc5083733a72e65'}], 'eventName': ['输入账号密码', '选择IPC模块', '新增IPC'], 'testData': '\"{\\\\\"dfasdf\\\\\":\\\\\"fdsa\\\\\"}\"', 'expectResult': '2'}"]}